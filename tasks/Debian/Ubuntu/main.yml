---

- name: Common Dependencies
  ansible.builtin.apt:
    pkg:
    - curl
    - git
    - unzip
    - xz-utils
    - zip
    - libglu1-mesa
    update_cache: true
  become: true

- name: Flutter extension for VS Code
  ansible.builtin.shell: "code --install-extension {{ item }}"
  args:
    creates: "{{ ansible_env.HOME }}/.vscode/extensions/{{ item | lower }}*"
  loop:
  - Dart-Code.flutter

- name: Flutter SDK
  include_tasks: Flutter SDK.yml

- name: Android
  include_tasks: ./Android.yml
  when: Android

- name: Linux
  include_tasks: ./Linux.yml
  when: Desktop and Linux

- name: Web
  include_tasks: ./Web.yml
  when: Web